{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"prefixCls\", \"rootClassName\", \"style\", \"className\", \"tabIndex\", \"items\", \"children\", \"direction\", \"id\", \"mode\", \"inlineCollapsed\", \"disabled\", \"disabledOverflow\", \"subMenuOpenDelay\", \"subMenuCloseDelay\", \"forceSubMenuRender\", \"defaultOpenKeys\", \"openKeys\", \"activeKey\", \"defaultActiveFirst\", \"selectable\", \"multiple\", \"defaultSelectedKeys\", \"selectedKeys\", \"onSelect\", \"onDeselect\", \"inlineIndent\", \"motion\", \"defaultMotions\", \"triggerSubMenuAction\", \"builtinPlacements\", \"itemIcon\", \"expandIcon\", \"overflowedIndicator\", \"overflowedIndicatorPopupClassName\", \"getPopupContainer\", \"onClick\", \"onOpenChange\", \"onKeyDown\", \"openAnimation\", \"openTransitionName\", \"_internalRenderMenuItem\", \"_internalRenderSubMenuItem\"];\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport shallowEqual from 'shallowequal';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport warning from \"rc-util/es/warning\";\nimport Overflow from 'rc-overflow';\nimport MenuItem from \"./MenuItem\";\nimport { parseItems } from \"./utils/nodeUtil\";\nimport MenuContextProvider from \"./context/MenuContext\";\nimport useMemoCallback from \"./hooks/useMemoCallback\";\nimport { warnItemProp } from \"./utils/warnUtil\";\nimport SubMenu from \"./SubMenu\";\nimport useAccessibility from \"./hooks/useAccessibility\";\nimport useUUID from \"./hooks/useUUID\";\nimport { PathRegisterContext, PathUserContext } from \"./context/PathContext\";\nimport useKeyRecords, { OVERFLOW_KEY } from \"./hooks/useKeyRecords\";\nimport { getMenuId, IdContext } from \"./context/IdContext\";\nimport PrivateContext from \"./context/PrivateContext\";\nimport { useImperativeHandle } from 'react';\n/**\n * Menu modify after refactor:\n * ## Add\n * - disabled\n *\n * ## Remove\n * - openTransitionName\n * - openAnimation\n * - onDestroy\n * - siderCollapsed: Seems antd do not use this prop (Need test in antd)\n * - collapsedWidth: Seems this logic should be handle by antd Layout.Sider\n */\n// optimize for render\n\nvar EMPTY_LIST = [];\nvar Menu = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _childList$, _classNames;\n\n  var _ref = props,\n      _ref$prefixCls = _ref.prefixCls,\n      prefixCls = _ref$prefixCls === void 0 ? 'rc-menu' : _ref$prefixCls,\n      rootClassName = _ref.rootClassName,\n      style = _ref.style,\n      className = _ref.className,\n      _ref$tabIndex = _ref.tabIndex,\n      tabIndex = _ref$tabIndex === void 0 ? 0 : _ref$tabIndex,\n      items = _ref.items,\n      children = _ref.children,\n      direction = _ref.direction,\n      id = _ref.id,\n      _ref$mode = _ref.mode,\n      mode = _ref$mode === void 0 ? 'vertical' : _ref$mode,\n      inlineCollapsed = _ref.inlineCollapsed,\n      disabled = _ref.disabled,\n      disabledOverflow = _ref.disabledOverflow,\n      _ref$subMenuOpenDelay = _ref.subMenuOpenDelay,\n      subMenuOpenDelay = _ref$subMenuOpenDelay === void 0 ? 0.1 : _ref$subMenuOpenDelay,\n      _ref$subMenuCloseDela = _ref.subMenuCloseDelay,\n      subMenuCloseDelay = _ref$subMenuCloseDela === void 0 ? 0.1 : _ref$subMenuCloseDela,\n      forceSubMenuRender = _ref.forceSubMenuRender,\n      defaultOpenKeys = _ref.defaultOpenKeys,\n      openKeys = _ref.openKeys,\n      activeKey = _ref.activeKey,\n      defaultActiveFirst = _ref.defaultActiveFirst,\n      _ref$selectable = _ref.selectable,\n      selectable = _ref$selectable === void 0 ? true : _ref$selectable,\n      _ref$multiple = _ref.multiple,\n      multiple = _ref$multiple === void 0 ? false : _ref$multiple,\n      defaultSelectedKeys = _ref.defaultSelectedKeys,\n      selectedKeys = _ref.selectedKeys,\n      onSelect = _ref.onSelect,\n      onDeselect = _ref.onDeselect,\n      _ref$inlineIndent = _ref.inlineIndent,\n      inlineIndent = _ref$inlineIndent === void 0 ? 24 : _ref$inlineIndent,\n      motion = _ref.motion,\n      defaultMotions = _ref.defaultMotions,\n      _ref$triggerSubMenuAc = _ref.triggerSubMenuAction,\n      triggerSubMenuAction = _ref$triggerSubMenuAc === void 0 ? 'hover' : _ref$triggerSubMenuAc,\n      builtinPlacements = _ref.builtinPlacements,\n      itemIcon = _ref.itemIcon,\n      expandIcon = _ref.expandIcon,\n      _ref$overflowedIndica = _ref.overflowedIndicator,\n      overflowedIndicator = _ref$overflowedIndica === void 0 ? '...' : _ref$overflowedIndica,\n      overflowedIndicatorPopupClassName = _ref.overflowedIndicatorPopupClassName,\n      getPopupContainer = _ref.getPopupContainer,\n      onClick = _ref.onClick,\n      onOpenChange = _ref.onOpenChange,\n      onKeyDown = _ref.onKeyDown,\n      openAnimation = _ref.openAnimation,\n      openTransitionName = _ref.openTransitionName,\n      _internalRenderMenuItem = _ref._internalRenderMenuItem,\n      _internalRenderSubMenuItem = _ref._internalRenderSubMenuItem,\n      restProps = _objectWithoutProperties(_ref, _excluded);\n\n  var childList = React.useMemo(function () {\n    return parseItems(children, items, EMPTY_LIST);\n  }, [children, items]);\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      mounted = _React$useState2[0],\n      setMounted = _React$useState2[1];\n\n  var containerRef = React.useRef();\n  var uuid = useUUID(id);\n  var isRtl = direction === 'rtl'; // ========================= Warn =========================\n\n  if (process.env.NODE_ENV !== 'production') {\n    warning(!openAnimation && !openTransitionName, '`openAnimation` and `openTransitionName` is removed. Please use `motion` or `defaultMotion` instead.');\n  } // ========================= Mode =========================\n\n\n  var _React$useMemo = React.useMemo(function () {\n    if ((mode === 'inline' || mode === 'vertical') && inlineCollapsed) {\n      return ['vertical', inlineCollapsed];\n    }\n\n    return [mode, false];\n  }, [mode, inlineCollapsed]),\n      _React$useMemo2 = _slicedToArray(_React$useMemo, 2),\n      mergedMode = _React$useMemo2[0],\n      mergedInlineCollapsed = _React$useMemo2[1]; // ====================== Responsive ======================\n\n\n  var _React$useState3 = React.useState(0),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      lastVisibleIndex = _React$useState4[0],\n      setLastVisibleIndex = _React$useState4[1];\n\n  var allVisible = lastVisibleIndex >= childList.length - 1 || mergedMode !== 'horizontal' || disabledOverflow; // ========================= Open =========================\n\n  var _useMergedState = useMergedState(defaultOpenKeys, {\n    value: openKeys,\n    postState: function postState(keys) {\n      return keys || EMPTY_LIST;\n    }\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      mergedOpenKeys = _useMergedState2[0],\n      setMergedOpenKeys = _useMergedState2[1];\n\n  var triggerOpenKeys = function triggerOpenKeys(keys) {\n    setMergedOpenKeys(keys);\n    onOpenChange === null || onOpenChange === void 0 ? void 0 : onOpenChange(keys);\n  }; // >>>>> Cache & Reset open keys when inlineCollapsed changed\n\n\n  var _React$useState5 = React.useState(mergedOpenKeys),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      inlineCacheOpenKeys = _React$useState6[0],\n      setInlineCacheOpenKeys = _React$useState6[1];\n\n  var isInlineMode = mergedMode === 'inline';\n  var mountRef = React.useRef(false); // Cache\n\n  React.useEffect(function () {\n    if (isInlineMode) {\n      setInlineCacheOpenKeys(mergedOpenKeys);\n    }\n  }, [mergedOpenKeys]); // Restore\n\n  React.useEffect(function () {\n    if (!mountRef.current) {\n      return;\n    }\n\n    if (isInlineMode) {\n      setMergedOpenKeys(inlineCacheOpenKeys);\n    } else {\n      // Trigger open event in case its in control\n      triggerOpenKeys(EMPTY_LIST);\n    }\n  }, [isInlineMode]);\n  React.useEffect(function () {\n    mountRef.current = true;\n    return function () {\n      mountRef.current = false;\n    };\n  }, []); // ========================= Path =========================\n\n  var _useKeyRecords = useKeyRecords(),\n      registerPath = _useKeyRecords.registerPath,\n      unregisterPath = _useKeyRecords.unregisterPath,\n      refreshOverflowKeys = _useKeyRecords.refreshOverflowKeys,\n      isSubPathKey = _useKeyRecords.isSubPathKey,\n      getKeyPath = _useKeyRecords.getKeyPath,\n      getKeys = _useKeyRecords.getKeys,\n      getSubPathKeys = _useKeyRecords.getSubPathKeys;\n\n  var registerPathContext = React.useMemo(function () {\n    return {\n      registerPath: registerPath,\n      unregisterPath: unregisterPath\n    };\n  }, [registerPath, unregisterPath]);\n  var pathUserContext = React.useMemo(function () {\n    return {\n      isSubPathKey: isSubPathKey\n    };\n  }, [isSubPathKey]);\n  React.useEffect(function () {\n    refreshOverflowKeys(allVisible ? EMPTY_LIST : childList.slice(lastVisibleIndex + 1).map(function (child) {\n      return child.key;\n    }));\n  }, [lastVisibleIndex, allVisible]); // ======================== Active ========================\n\n  var _useMergedState3 = useMergedState(activeKey || defaultActiveFirst && ((_childList$ = childList[0]) === null || _childList$ === void 0 ? void 0 : _childList$.key), {\n    value: activeKey\n  }),\n      _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n      mergedActiveKey = _useMergedState4[0],\n      setMergedActiveKey = _useMergedState4[1];\n\n  var onActive = useMemoCallback(function (key) {\n    setMergedActiveKey(key);\n  });\n  var onInactive = useMemoCallback(function () {\n    setMergedActiveKey(undefined);\n  });\n  useImperativeHandle(ref, function () {\n    return {\n      list: containerRef.current,\n      focus: function focus(options) {\n        var _childList$find;\n\n        var shouldFocusKey = mergedActiveKey !== null && mergedActiveKey !== void 0 ? mergedActiveKey : (_childList$find = childList.find(function (node) {\n          return !node.props.disabled;\n        })) === null || _childList$find === void 0 ? void 0 : _childList$find.key;\n\n        if (shouldFocusKey) {\n          var _containerRef$current, _containerRef$current2, _containerRef$current3;\n\n          (_containerRef$current = containerRef.current) === null || _containerRef$current === void 0 ? void 0 : (_containerRef$current2 = _containerRef$current.querySelector(\"li[data-menu-id='\".concat(getMenuId(uuid, shouldFocusKey), \"']\"))) === null || _containerRef$current2 === void 0 ? void 0 : (_containerRef$current3 = _containerRef$current2.focus) === null || _containerRef$current3 === void 0 ? void 0 : _containerRef$current3.call(_containerRef$current2, options);\n        }\n      }\n    };\n  }); // ======================== Select ========================\n  // >>>>> Select keys\n\n  var _useMergedState5 = useMergedState(defaultSelectedKeys || [], {\n    value: selectedKeys,\n    // Legacy convert key to array\n    postState: function postState(keys) {\n      if (Array.isArray(keys)) {\n        return keys;\n      }\n\n      if (keys === null || keys === undefined) {\n        return EMPTY_LIST;\n      }\n\n      return [keys];\n    }\n  }),\n      _useMergedState6 = _slicedToArray(_useMergedState5, 2),\n      mergedSelectKeys = _useMergedState6[0],\n      setMergedSelectKeys = _useMergedState6[1]; // >>>>> Trigger select\n\n\n  var triggerSelection = function triggerSelection(info) {\n    if (selectable) {\n      // Insert or Remove\n      var targetKey = info.key;\n      var exist = mergedSelectKeys.includes(targetKey);\n      var newSelectKeys;\n\n      if (multiple) {\n        if (exist) {\n          newSelectKeys = mergedSelectKeys.filter(function (key) {\n            return key !== targetKey;\n          });\n        } else {\n          newSelectKeys = [].concat(_toConsumableArray(mergedSelectKeys), [targetKey]);\n        }\n      } else {\n        newSelectKeys = [targetKey];\n      }\n\n      setMergedSelectKeys(newSelectKeys); // Trigger event\n\n      var selectInfo = _objectSpread(_objectSpread({}, info), {}, {\n        selectedKeys: newSelectKeys\n      });\n\n      if (exist) {\n        onDeselect === null || onDeselect === void 0 ? void 0 : onDeselect(selectInfo);\n      } else {\n        onSelect === null || onSelect === void 0 ? void 0 : onSelect(selectInfo);\n      }\n    } // Whatever selectable, always close it\n\n\n    if (!multiple && mergedOpenKeys.length && mergedMode !== 'inline') {\n      triggerOpenKeys(EMPTY_LIST);\n    }\n  }; // ========================= Open =========================\n\n  /**\n   * Click for item. SubMenu do not have selection status\n   */\n\n\n  var onInternalClick = useMemoCallback(function (info) {\n    onClick === null || onClick === void 0 ? void 0 : onClick(warnItemProp(info));\n    triggerSelection(info);\n  });\n  var onInternalOpenChange = useMemoCallback(function (key, open) {\n    var newOpenKeys = mergedOpenKeys.filter(function (k) {\n      return k !== key;\n    });\n\n    if (open) {\n      newOpenKeys.push(key);\n    } else if (mergedMode !== 'inline') {\n      // We need find all related popup to close\n      var subPathKeys = getSubPathKeys(key);\n      newOpenKeys = newOpenKeys.filter(function (k) {\n        return !subPathKeys.has(k);\n      });\n    }\n\n    if (!shallowEqual(mergedOpenKeys, newOpenKeys)) {\n      triggerOpenKeys(newOpenKeys);\n    }\n  });\n  var getInternalPopupContainer = useMemoCallback(getPopupContainer); // ==================== Accessibility =====================\n\n  var triggerAccessibilityOpen = function triggerAccessibilityOpen(key, open) {\n    var nextOpen = open !== null && open !== void 0 ? open : !mergedOpenKeys.includes(key);\n    onInternalOpenChange(key, nextOpen);\n  };\n\n  var onInternalKeyDown = useAccessibility(mergedMode, mergedActiveKey, isRtl, uuid, containerRef, getKeys, getKeyPath, setMergedActiveKey, triggerAccessibilityOpen, onKeyDown); // ======================== Effect ========================\n\n  React.useEffect(function () {\n    setMounted(true);\n  }, []); // ======================= Context ========================\n\n  var privateContext = React.useMemo(function () {\n    return {\n      _internalRenderMenuItem: _internalRenderMenuItem,\n      _internalRenderSubMenuItem: _internalRenderSubMenuItem\n    };\n  }, [_internalRenderMenuItem, _internalRenderSubMenuItem]); // ======================== Render ========================\n  // >>>>> Children\n\n  var wrappedChildList = mergedMode !== 'horizontal' || disabledOverflow ? childList : // Need wrap for overflow dropdown that do not response for open\n  childList.map(function (child, index) {\n    return (\n      /*#__PURE__*/\n      // Always wrap provider to avoid sub node re-mount\n      React.createElement(MenuContextProvider, {\n        key: child.key,\n        overflowDisabled: index > lastVisibleIndex\n      }, child)\n    );\n  }); // >>>>> Container\n\n  var container = /*#__PURE__*/React.createElement(Overflow, _extends({\n    id: id,\n    ref: containerRef,\n    prefixCls: \"\".concat(prefixCls, \"-overflow\"),\n    component: \"ul\",\n    itemComponent: MenuItem,\n    className: classNames(prefixCls, \"\".concat(prefixCls, \"-root\"), \"\".concat(prefixCls, \"-\").concat(mergedMode), className, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-inline-collapsed\"), mergedInlineCollapsed), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), isRtl), _classNames), rootClassName),\n    dir: direction,\n    style: style,\n    role: \"menu\",\n    tabIndex: tabIndex,\n    data: wrappedChildList,\n    renderRawItem: function renderRawItem(node) {\n      return node;\n    },\n    renderRawRest: function renderRawRest(omitItems) {\n      // We use origin list since wrapped list use context to prevent open\n      var len = omitItems.length;\n      var originOmitItems = len ? childList.slice(-len) : null;\n      return /*#__PURE__*/React.createElement(SubMenu, {\n        eventKey: OVERFLOW_KEY,\n        title: overflowedIndicator,\n        disabled: allVisible,\n        internalPopupClose: len === 0,\n        popupClassName: overflowedIndicatorPopupClassName\n      }, originOmitItems);\n    },\n    maxCount: mergedMode !== 'horizontal' || disabledOverflow ? Overflow.INVALIDATE : Overflow.RESPONSIVE,\n    ssr: \"full\",\n    \"data-menu-list\": true,\n    onVisibleChange: function onVisibleChange(newLastIndex) {\n      setLastVisibleIndex(newLastIndex);\n    },\n    onKeyDown: onInternalKeyDown\n  }, restProps)); // >>>>> Render\n\n  return /*#__PURE__*/React.createElement(PrivateContext.Provider, {\n    value: privateContext\n  }, /*#__PURE__*/React.createElement(IdContext.Provider, {\n    value: uuid\n  }, /*#__PURE__*/React.createElement(MenuContextProvider, {\n    prefixCls: prefixCls,\n    rootClassName: rootClassName,\n    mode: mergedMode,\n    openKeys: mergedOpenKeys,\n    rtl: isRtl // Disabled\n    ,\n    disabled: disabled // Motion\n    ,\n    motion: mounted ? motion : null,\n    defaultMotions: mounted ? defaultMotions : null // Active\n    ,\n    activeKey: mergedActiveKey,\n    onActive: onActive,\n    onInactive: onInactive // Selection\n    ,\n    selectedKeys: mergedSelectKeys // Level\n    ,\n    inlineIndent: inlineIndent // Popup\n    ,\n    subMenuOpenDelay: subMenuOpenDelay,\n    subMenuCloseDelay: subMenuCloseDelay,\n    forceSubMenuRender: forceSubMenuRender,\n    builtinPlacements: builtinPlacements,\n    triggerSubMenuAction: triggerSubMenuAction,\n    getPopupContainer: getInternalPopupContainer // Icon\n    ,\n    itemIcon: itemIcon,\n    expandIcon: expandIcon // Events\n    ,\n    onItemClick: onInternalClick,\n    onOpenChange: onInternalOpenChange\n  }, /*#__PURE__*/React.createElement(PathUserContext.Provider, {\n    value: pathUserContext\n  }, container), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'none'\n    },\n    \"aria-hidden\": true\n  }, /*#__PURE__*/React.createElement(PathRegisterContext.Provider, {\n    value: registerPathContext\n  }, childList)))));\n});\nexport default Menu;","map":{"version":3,"sources":["E:/railway/expressjs-mongoose/frontend/node_modules/rc-menu/es/Menu.js"],"names":["_extends","_defineProperty","_objectSpread","_toConsumableArray","_slicedToArray","_objectWithoutProperties","_excluded","React","classNames","shallowEqual","useMergedState","warning","Overflow","MenuItem","parseItems","MenuContextProvider","useMemoCallback","warnItemProp","SubMenu","useAccessibility","useUUID","PathRegisterContext","PathUserContext","useKeyRecords","OVERFLOW_KEY","getMenuId","IdContext","PrivateContext","useImperativeHandle","EMPTY_LIST","Menu","forwardRef","props","ref","_childList$","_classNames","_ref","_ref$prefixCls","prefixCls","rootClassName","style","className","_ref$tabIndex","tabIndex","items","children","direction","id","_ref$mode","mode","inlineCollapsed","disabled","disabledOverflow","_ref$subMenuOpenDelay","subMenuOpenDelay","_ref$subMenuCloseDela","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","_ref$selectable","selectable","_ref$multiple","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","_ref$inlineIndent","inlineIndent","motion","defaultMotions","_ref$triggerSubMenuAc","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","_ref$overflowedIndica","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem","restProps","childList","useMemo","_React$useState","useState","_React$useState2","mounted","setMounted","containerRef","useRef","uuid","isRtl","process","env","NODE_ENV","_React$useMemo","_React$useMemo2","mergedMode","mergedInlineCollapsed","_React$useState3","_React$useState4","lastVisibleIndex","setLastVisibleIndex","allVisible","length","_useMergedState","value","postState","keys","_useMergedState2","mergedOpenKeys","setMergedOpenKeys","triggerOpenKeys","_React$useState5","_React$useState6","inlineCacheOpenKeys","setInlineCacheOpenKeys","isInlineMode","mountRef","useEffect","current","_useKeyRecords","registerPath","unregisterPath","refreshOverflowKeys","isSubPathKey","getKeyPath","getKeys","getSubPathKeys","registerPathContext","pathUserContext","slice","map","child","key","_useMergedState3","_useMergedState4","mergedActiveKey","setMergedActiveKey","onActive","onInactive","undefined","list","focus","options","_childList$find","shouldFocusKey","find","node","_containerRef$current","_containerRef$current2","_containerRef$current3","querySelector","concat","call","_useMergedState5","Array","isArray","_useMergedState6","mergedSelectKeys","setMergedSelectKeys","triggerSelection","info","targetKey","exist","includes","newSelectKeys","filter","selectInfo","onInternalClick","onInternalOpenChange","open","newOpenKeys","k","push","subPathKeys","has","getInternalPopupContainer","triggerAccessibilityOpen","nextOpen","onInternalKeyDown","privateContext","wrappedChildList","index","createElement","overflowDisabled","container","component","itemComponent","dir","role","data","renderRawItem","renderRawRest","omitItems","len","originOmitItems","eventKey","title","internalPopupClose","popupClassName","maxCount","INVALIDATE","RESPONSIVE","ssr","onVisibleChange","newLastIndex","Provider","rtl","onItemClick","display"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"prefixCls\", \"rootClassName\", \"style\", \"className\", \"tabIndex\", \"items\", \"children\", \"direction\", \"id\", \"mode\", \"inlineCollapsed\", \"disabled\", \"disabledOverflow\", \"subMenuOpenDelay\", \"subMenuCloseDelay\", \"forceSubMenuRender\", \"defaultOpenKeys\", \"openKeys\", \"activeKey\", \"defaultActiveFirst\", \"selectable\", \"multiple\", \"defaultSelectedKeys\", \"selectedKeys\", \"onSelect\", \"onDeselect\", \"inlineIndent\", \"motion\", \"defaultMotions\", \"triggerSubMenuAction\", \"builtinPlacements\", \"itemIcon\", \"expandIcon\", \"overflowedIndicator\", \"overflowedIndicatorPopupClassName\", \"getPopupContainer\", \"onClick\", \"onOpenChange\", \"onKeyDown\", \"openAnimation\", \"openTransitionName\", \"_internalRenderMenuItem\", \"_internalRenderSubMenuItem\"];\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport shallowEqual from 'shallowequal';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport warning from \"rc-util/es/warning\";\nimport Overflow from 'rc-overflow';\nimport MenuItem from \"./MenuItem\";\nimport { parseItems } from \"./utils/nodeUtil\";\nimport MenuContextProvider from \"./context/MenuContext\";\nimport useMemoCallback from \"./hooks/useMemoCallback\";\nimport { warnItemProp } from \"./utils/warnUtil\";\nimport SubMenu from \"./SubMenu\";\nimport useAccessibility from \"./hooks/useAccessibility\";\nimport useUUID from \"./hooks/useUUID\";\nimport { PathRegisterContext, PathUserContext } from \"./context/PathContext\";\nimport useKeyRecords, { OVERFLOW_KEY } from \"./hooks/useKeyRecords\";\nimport { getMenuId, IdContext } from \"./context/IdContext\";\nimport PrivateContext from \"./context/PrivateContext\";\nimport { useImperativeHandle } from 'react';\n/**\n * Menu modify after refactor:\n * ## Add\n * - disabled\n *\n * ## Remove\n * - openTransitionName\n * - openAnimation\n * - onDestroy\n * - siderCollapsed: Seems antd do not use this prop (Need test in antd)\n * - collapsedWidth: Seems this logic should be handle by antd Layout.Sider\n */\n// optimize for render\n\nvar EMPTY_LIST = [];\nvar Menu = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _childList$, _classNames;\n\n  var _ref = props,\n      _ref$prefixCls = _ref.prefixCls,\n      prefixCls = _ref$prefixCls === void 0 ? 'rc-menu' : _ref$prefixCls,\n      rootClassName = _ref.rootClassName,\n      style = _ref.style,\n      className = _ref.className,\n      _ref$tabIndex = _ref.tabIndex,\n      tabIndex = _ref$tabIndex === void 0 ? 0 : _ref$tabIndex,\n      items = _ref.items,\n      children = _ref.children,\n      direction = _ref.direction,\n      id = _ref.id,\n      _ref$mode = _ref.mode,\n      mode = _ref$mode === void 0 ? 'vertical' : _ref$mode,\n      inlineCollapsed = _ref.inlineCollapsed,\n      disabled = _ref.disabled,\n      disabledOverflow = _ref.disabledOverflow,\n      _ref$subMenuOpenDelay = _ref.subMenuOpenDelay,\n      subMenuOpenDelay = _ref$subMenuOpenDelay === void 0 ? 0.1 : _ref$subMenuOpenDelay,\n      _ref$subMenuCloseDela = _ref.subMenuCloseDelay,\n      subMenuCloseDelay = _ref$subMenuCloseDela === void 0 ? 0.1 : _ref$subMenuCloseDela,\n      forceSubMenuRender = _ref.forceSubMenuRender,\n      defaultOpenKeys = _ref.defaultOpenKeys,\n      openKeys = _ref.openKeys,\n      activeKey = _ref.activeKey,\n      defaultActiveFirst = _ref.defaultActiveFirst,\n      _ref$selectable = _ref.selectable,\n      selectable = _ref$selectable === void 0 ? true : _ref$selectable,\n      _ref$multiple = _ref.multiple,\n      multiple = _ref$multiple === void 0 ? false : _ref$multiple,\n      defaultSelectedKeys = _ref.defaultSelectedKeys,\n      selectedKeys = _ref.selectedKeys,\n      onSelect = _ref.onSelect,\n      onDeselect = _ref.onDeselect,\n      _ref$inlineIndent = _ref.inlineIndent,\n      inlineIndent = _ref$inlineIndent === void 0 ? 24 : _ref$inlineIndent,\n      motion = _ref.motion,\n      defaultMotions = _ref.defaultMotions,\n      _ref$triggerSubMenuAc = _ref.triggerSubMenuAction,\n      triggerSubMenuAction = _ref$triggerSubMenuAc === void 0 ? 'hover' : _ref$triggerSubMenuAc,\n      builtinPlacements = _ref.builtinPlacements,\n      itemIcon = _ref.itemIcon,\n      expandIcon = _ref.expandIcon,\n      _ref$overflowedIndica = _ref.overflowedIndicator,\n      overflowedIndicator = _ref$overflowedIndica === void 0 ? '...' : _ref$overflowedIndica,\n      overflowedIndicatorPopupClassName = _ref.overflowedIndicatorPopupClassName,\n      getPopupContainer = _ref.getPopupContainer,\n      onClick = _ref.onClick,\n      onOpenChange = _ref.onOpenChange,\n      onKeyDown = _ref.onKeyDown,\n      openAnimation = _ref.openAnimation,\n      openTransitionName = _ref.openTransitionName,\n      _internalRenderMenuItem = _ref._internalRenderMenuItem,\n      _internalRenderSubMenuItem = _ref._internalRenderSubMenuItem,\n      restProps = _objectWithoutProperties(_ref, _excluded);\n\n  var childList = React.useMemo(function () {\n    return parseItems(children, items, EMPTY_LIST);\n  }, [children, items]);\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      mounted = _React$useState2[0],\n      setMounted = _React$useState2[1];\n\n  var containerRef = React.useRef();\n  var uuid = useUUID(id);\n  var isRtl = direction === 'rtl'; // ========================= Warn =========================\n\n  if (process.env.NODE_ENV !== 'production') {\n    warning(!openAnimation && !openTransitionName, '`openAnimation` and `openTransitionName` is removed. Please use `motion` or `defaultMotion` instead.');\n  } // ========================= Mode =========================\n\n\n  var _React$useMemo = React.useMemo(function () {\n    if ((mode === 'inline' || mode === 'vertical') && inlineCollapsed) {\n      return ['vertical', inlineCollapsed];\n    }\n\n    return [mode, false];\n  }, [mode, inlineCollapsed]),\n      _React$useMemo2 = _slicedToArray(_React$useMemo, 2),\n      mergedMode = _React$useMemo2[0],\n      mergedInlineCollapsed = _React$useMemo2[1]; // ====================== Responsive ======================\n\n\n  var _React$useState3 = React.useState(0),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      lastVisibleIndex = _React$useState4[0],\n      setLastVisibleIndex = _React$useState4[1];\n\n  var allVisible = lastVisibleIndex >= childList.length - 1 || mergedMode !== 'horizontal' || disabledOverflow; // ========================= Open =========================\n\n  var _useMergedState = useMergedState(defaultOpenKeys, {\n    value: openKeys,\n    postState: function postState(keys) {\n      return keys || EMPTY_LIST;\n    }\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      mergedOpenKeys = _useMergedState2[0],\n      setMergedOpenKeys = _useMergedState2[1];\n\n  var triggerOpenKeys = function triggerOpenKeys(keys) {\n    setMergedOpenKeys(keys);\n    onOpenChange === null || onOpenChange === void 0 ? void 0 : onOpenChange(keys);\n  }; // >>>>> Cache & Reset open keys when inlineCollapsed changed\n\n\n  var _React$useState5 = React.useState(mergedOpenKeys),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      inlineCacheOpenKeys = _React$useState6[0],\n      setInlineCacheOpenKeys = _React$useState6[1];\n\n  var isInlineMode = mergedMode === 'inline';\n  var mountRef = React.useRef(false); // Cache\n\n  React.useEffect(function () {\n    if (isInlineMode) {\n      setInlineCacheOpenKeys(mergedOpenKeys);\n    }\n  }, [mergedOpenKeys]); // Restore\n\n  React.useEffect(function () {\n    if (!mountRef.current) {\n      return;\n    }\n\n    if (isInlineMode) {\n      setMergedOpenKeys(inlineCacheOpenKeys);\n    } else {\n      // Trigger open event in case its in control\n      triggerOpenKeys(EMPTY_LIST);\n    }\n  }, [isInlineMode]);\n  React.useEffect(function () {\n    mountRef.current = true;\n    return function () {\n      mountRef.current = false;\n    };\n  }, []); // ========================= Path =========================\n\n  var _useKeyRecords = useKeyRecords(),\n      registerPath = _useKeyRecords.registerPath,\n      unregisterPath = _useKeyRecords.unregisterPath,\n      refreshOverflowKeys = _useKeyRecords.refreshOverflowKeys,\n      isSubPathKey = _useKeyRecords.isSubPathKey,\n      getKeyPath = _useKeyRecords.getKeyPath,\n      getKeys = _useKeyRecords.getKeys,\n      getSubPathKeys = _useKeyRecords.getSubPathKeys;\n\n  var registerPathContext = React.useMemo(function () {\n    return {\n      registerPath: registerPath,\n      unregisterPath: unregisterPath\n    };\n  }, [registerPath, unregisterPath]);\n  var pathUserContext = React.useMemo(function () {\n    return {\n      isSubPathKey: isSubPathKey\n    };\n  }, [isSubPathKey]);\n  React.useEffect(function () {\n    refreshOverflowKeys(allVisible ? EMPTY_LIST : childList.slice(lastVisibleIndex + 1).map(function (child) {\n      return child.key;\n    }));\n  }, [lastVisibleIndex, allVisible]); // ======================== Active ========================\n\n  var _useMergedState3 = useMergedState(activeKey || defaultActiveFirst && ((_childList$ = childList[0]) === null || _childList$ === void 0 ? void 0 : _childList$.key), {\n    value: activeKey\n  }),\n      _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n      mergedActiveKey = _useMergedState4[0],\n      setMergedActiveKey = _useMergedState4[1];\n\n  var onActive = useMemoCallback(function (key) {\n    setMergedActiveKey(key);\n  });\n  var onInactive = useMemoCallback(function () {\n    setMergedActiveKey(undefined);\n  });\n  useImperativeHandle(ref, function () {\n    return {\n      list: containerRef.current,\n      focus: function focus(options) {\n        var _childList$find;\n\n        var shouldFocusKey = mergedActiveKey !== null && mergedActiveKey !== void 0 ? mergedActiveKey : (_childList$find = childList.find(function (node) {\n          return !node.props.disabled;\n        })) === null || _childList$find === void 0 ? void 0 : _childList$find.key;\n\n        if (shouldFocusKey) {\n          var _containerRef$current, _containerRef$current2, _containerRef$current3;\n\n          (_containerRef$current = containerRef.current) === null || _containerRef$current === void 0 ? void 0 : (_containerRef$current2 = _containerRef$current.querySelector(\"li[data-menu-id='\".concat(getMenuId(uuid, shouldFocusKey), \"']\"))) === null || _containerRef$current2 === void 0 ? void 0 : (_containerRef$current3 = _containerRef$current2.focus) === null || _containerRef$current3 === void 0 ? void 0 : _containerRef$current3.call(_containerRef$current2, options);\n        }\n      }\n    };\n  }); // ======================== Select ========================\n  // >>>>> Select keys\n\n  var _useMergedState5 = useMergedState(defaultSelectedKeys || [], {\n    value: selectedKeys,\n    // Legacy convert key to array\n    postState: function postState(keys) {\n      if (Array.isArray(keys)) {\n        return keys;\n      }\n\n      if (keys === null || keys === undefined) {\n        return EMPTY_LIST;\n      }\n\n      return [keys];\n    }\n  }),\n      _useMergedState6 = _slicedToArray(_useMergedState5, 2),\n      mergedSelectKeys = _useMergedState6[0],\n      setMergedSelectKeys = _useMergedState6[1]; // >>>>> Trigger select\n\n\n  var triggerSelection = function triggerSelection(info) {\n    if (selectable) {\n      // Insert or Remove\n      var targetKey = info.key;\n      var exist = mergedSelectKeys.includes(targetKey);\n      var newSelectKeys;\n\n      if (multiple) {\n        if (exist) {\n          newSelectKeys = mergedSelectKeys.filter(function (key) {\n            return key !== targetKey;\n          });\n        } else {\n          newSelectKeys = [].concat(_toConsumableArray(mergedSelectKeys), [targetKey]);\n        }\n      } else {\n        newSelectKeys = [targetKey];\n      }\n\n      setMergedSelectKeys(newSelectKeys); // Trigger event\n\n      var selectInfo = _objectSpread(_objectSpread({}, info), {}, {\n        selectedKeys: newSelectKeys\n      });\n\n      if (exist) {\n        onDeselect === null || onDeselect === void 0 ? void 0 : onDeselect(selectInfo);\n      } else {\n        onSelect === null || onSelect === void 0 ? void 0 : onSelect(selectInfo);\n      }\n    } // Whatever selectable, always close it\n\n\n    if (!multiple && mergedOpenKeys.length && mergedMode !== 'inline') {\n      triggerOpenKeys(EMPTY_LIST);\n    }\n  }; // ========================= Open =========================\n\n  /**\n   * Click for item. SubMenu do not have selection status\n   */\n\n\n  var onInternalClick = useMemoCallback(function (info) {\n    onClick === null || onClick === void 0 ? void 0 : onClick(warnItemProp(info));\n    triggerSelection(info);\n  });\n  var onInternalOpenChange = useMemoCallback(function (key, open) {\n    var newOpenKeys = mergedOpenKeys.filter(function (k) {\n      return k !== key;\n    });\n\n    if (open) {\n      newOpenKeys.push(key);\n    } else if (mergedMode !== 'inline') {\n      // We need find all related popup to close\n      var subPathKeys = getSubPathKeys(key);\n      newOpenKeys = newOpenKeys.filter(function (k) {\n        return !subPathKeys.has(k);\n      });\n    }\n\n    if (!shallowEqual(mergedOpenKeys, newOpenKeys)) {\n      triggerOpenKeys(newOpenKeys);\n    }\n  });\n  var getInternalPopupContainer = useMemoCallback(getPopupContainer); // ==================== Accessibility =====================\n\n  var triggerAccessibilityOpen = function triggerAccessibilityOpen(key, open) {\n    var nextOpen = open !== null && open !== void 0 ? open : !mergedOpenKeys.includes(key);\n    onInternalOpenChange(key, nextOpen);\n  };\n\n  var onInternalKeyDown = useAccessibility(mergedMode, mergedActiveKey, isRtl, uuid, containerRef, getKeys, getKeyPath, setMergedActiveKey, triggerAccessibilityOpen, onKeyDown); // ======================== Effect ========================\n\n  React.useEffect(function () {\n    setMounted(true);\n  }, []); // ======================= Context ========================\n\n  var privateContext = React.useMemo(function () {\n    return {\n      _internalRenderMenuItem: _internalRenderMenuItem,\n      _internalRenderSubMenuItem: _internalRenderSubMenuItem\n    };\n  }, [_internalRenderMenuItem, _internalRenderSubMenuItem]); // ======================== Render ========================\n  // >>>>> Children\n\n  var wrappedChildList = mergedMode !== 'horizontal' || disabledOverflow ? childList : // Need wrap for overflow dropdown that do not response for open\n  childList.map(function (child, index) {\n    return (\n      /*#__PURE__*/\n      // Always wrap provider to avoid sub node re-mount\n      React.createElement(MenuContextProvider, {\n        key: child.key,\n        overflowDisabled: index > lastVisibleIndex\n      }, child)\n    );\n  }); // >>>>> Container\n\n  var container = /*#__PURE__*/React.createElement(Overflow, _extends({\n    id: id,\n    ref: containerRef,\n    prefixCls: \"\".concat(prefixCls, \"-overflow\"),\n    component: \"ul\",\n    itemComponent: MenuItem,\n    className: classNames(prefixCls, \"\".concat(prefixCls, \"-root\"), \"\".concat(prefixCls, \"-\").concat(mergedMode), className, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-inline-collapsed\"), mergedInlineCollapsed), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), isRtl), _classNames), rootClassName),\n    dir: direction,\n    style: style,\n    role: \"menu\",\n    tabIndex: tabIndex,\n    data: wrappedChildList,\n    renderRawItem: function renderRawItem(node) {\n      return node;\n    },\n    renderRawRest: function renderRawRest(omitItems) {\n      // We use origin list since wrapped list use context to prevent open\n      var len = omitItems.length;\n      var originOmitItems = len ? childList.slice(-len) : null;\n      return /*#__PURE__*/React.createElement(SubMenu, {\n        eventKey: OVERFLOW_KEY,\n        title: overflowedIndicator,\n        disabled: allVisible,\n        internalPopupClose: len === 0,\n        popupClassName: overflowedIndicatorPopupClassName\n      }, originOmitItems);\n    },\n    maxCount: mergedMode !== 'horizontal' || disabledOverflow ? Overflow.INVALIDATE : Overflow.RESPONSIVE,\n    ssr: \"full\",\n    \"data-menu-list\": true,\n    onVisibleChange: function onVisibleChange(newLastIndex) {\n      setLastVisibleIndex(newLastIndex);\n    },\n    onKeyDown: onInternalKeyDown\n  }, restProps)); // >>>>> Render\n\n  return /*#__PURE__*/React.createElement(PrivateContext.Provider, {\n    value: privateContext\n  }, /*#__PURE__*/React.createElement(IdContext.Provider, {\n    value: uuid\n  }, /*#__PURE__*/React.createElement(MenuContextProvider, {\n    prefixCls: prefixCls,\n    rootClassName: rootClassName,\n    mode: mergedMode,\n    openKeys: mergedOpenKeys,\n    rtl: isRtl // Disabled\n    ,\n    disabled: disabled // Motion\n    ,\n    motion: mounted ? motion : null,\n    defaultMotions: mounted ? defaultMotions : null // Active\n    ,\n    activeKey: mergedActiveKey,\n    onActive: onActive,\n    onInactive: onInactive // Selection\n    ,\n    selectedKeys: mergedSelectKeys // Level\n    ,\n    inlineIndent: inlineIndent // Popup\n    ,\n    subMenuOpenDelay: subMenuOpenDelay,\n    subMenuCloseDelay: subMenuCloseDelay,\n    forceSubMenuRender: forceSubMenuRender,\n    builtinPlacements: builtinPlacements,\n    triggerSubMenuAction: triggerSubMenuAction,\n    getPopupContainer: getInternalPopupContainer // Icon\n    ,\n    itemIcon: itemIcon,\n    expandIcon: expandIcon // Events\n    ,\n    onItemClick: onInternalClick,\n    onOpenChange: onInternalOpenChange\n  }, /*#__PURE__*/React.createElement(PathUserContext.Provider, {\n    value: pathUserContext\n  }, container), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'none'\n    },\n    \"aria-hidden\": true\n  }, /*#__PURE__*/React.createElement(PathRegisterContext.Provider, {\n    value: registerPathContext\n  }, childList)))));\n});\nexport default Menu;"]},"metadata":{},"sourceType":"module"}